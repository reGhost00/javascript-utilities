(function(r,f){if(typeof exports==="object")exports=f();else if(typeof define==="function"&&define.amd)define([],f);else r.Slider=f()})(this,function(){let tm=null;function slider_task(es){es.data.classList.remove("active");es.data.classList.add("dying");es=es.next;es.data.classList.remove("dead");es.data.classList.add("active");setTimeout(function(){es.prev.data.classList.remove("dying");es.prev.data.classList.add("dead")},1e3);return es}class _{constructor(parent,time){if(/^\[object HTML[a-zA-Z]*Element\]$/.test(Object.prototype.toString.call(parent))){let elms=parent.querySelectorAll("[data-cell-index]");let direction=parent.dataset.slider;if(elms.length<1){elms=parent.children;for(var i=0;i<elms.length;i++)elms[i].dataset.cellIndex=i;console.warn(">Slider >constructor 父元素“parent”下无属性为 data-cell-index 的子元素，已设置所有子元素为轮播对象")}if(elms.length<2)throw new RangeError(">Slider >constructor 父元素“parent”有少于两个子元素，无法轮播");if(direction!=="vertical"&&direction!=="horizontal"){parent.dataset.slider="vertical";direction="vertical";console.warn(">Slider >constructor 父元素“parent”未指定轮播方向或设置了不支持的值，重置为默认垂直方向")}time=parseInt(time);if(isNaN(time)||time<500){time=1e3;console.warn(">Slider >constructor 轮播间隔未指定或小于500毫秒，已重置默认1000毫秒")}let node={},list=new Node(elms[0]);for(i=1;i<elms.length;i++){node=new Node(elms[i]);list.list_push_back(list,node)}list.list_loop(list);this.elms=list;this.time=time;this.status=true;tm=setInterval(function(){this.elms=slider_task(this.elms)}.bind(this),this.time)}else throw new TypeError(">Slider >constructor 参数“parent”必须是一个DOM元素，表示需要轮播的父元素")}slider_stop(){if(tm){clearInterval(tm);tm=null;this.status=false;return true}else console.error(">Slider >slider_stop 轮播已是停止状态");return false}slider_start(){if(tm)console.error(">Slider >slider_start 轮播已是开始状态");else{tm=setInterval(function(){this.elms=slider_task(this.elms)}.bind(this),this.time);this.status=true;return true}return false}slider_toggle(){if(tm)return this.slider_stop();else return this.slider_start()}}return _});